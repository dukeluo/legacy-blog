<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="翻译文章：[Understanding JavaScript Function Invocation and &quot;this&quot;](https:&#x2F;&#x2F;yehudakatz.com&#x2F;2011&#x2F;08&#x2F;11&#x2F;understanding-javascript-function-invocation-and-this&#x2F;)。"><meta property="og:type" content="article"><meta property="og:title" content="翻译 | 深入理解JavaScirpt的函数调用和&quot;this&quot;"><meta property="og:url" content="https://shaiwang.life/2018/07/31/javascript-invocation-this.html"><meta property="og:site_name" content="晒网"><meta property="og:description" content="翻译文章：[Understanding JavaScript Function Invocation and &quot;this&quot;](https:&#x2F;&#x2F;yehudakatz.com&#x2F;2011&#x2F;08&#x2F;11&#x2F;understanding-javascript-function-invocation-and-this&#x2F;)。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://files.shaiwang.life/2018/07/PdIAoj.png"><meta property="article:published_time" content="2018-07-30T16:00:00.000Z"><meta property="article:modified_time" content="2022-03-26T15:00:39.242Z"><meta property="article:author" content="Duke Luo"><meta property="article:tag" content="JavaScript"><meta property="article:tag" content="this"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://files.shaiwang.life/2018/07/PdIAoj.png"><title>翻译 | 深入理解JavaScirpt的函数调用和&#34;this&#34; | 晒网</title><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS&#x2F;woiFS3uNKo8eIuni59rjyNGtXfstRzStA&#x3D;" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo&#x3D;" defer crossorigin="anonymous"></script><script src="/js/toc.js" defer></script><script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@2.1.4/fingerprint2.min.js" defer></script><script src="/js/fingerprint.js" defer></script><script src="/js/gist.js" defer></script><script src="/js/like.js" defer type="module"></script><script src="/js/script.js" defer></script><script src="/js/search.js" defer></script><script src="/js/chocolate.js" defer></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP&#x2F;HTHLT7097U8Y5b8&#x3D;" crossorigin="anonymous" defer></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9CM4L7SPN4"></script><script type="text/javascript">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9CM4L7SPN4")</script><script type="text/javascript">var _gauges=_gauges||[];!function(){let t=document.createElement("script"),e=(t.async=!0,t.id="gauges-tracker",t.setAttribute("data-site-id",""),t.setAttribute("data-track-path","https://track.gaug.es/track.gif"),t.src="https://d36ee2fcip1434.cloudfront.net/track.js",document.getElementsByTagName("script")[0]);e.parentNode.insertBefore(t,e)}()</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="晒网" type="application/atom+xml"></head><body><div id="container"><div id="wrap"><header id="header" class="post-header"><div id="header-inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/categories">Category</a> <a class="main-nav-link" href="/archives">Archive</a></nav><nav id="sub-nav"><a id="nav-search-btn" class="nav-icon" title="搜索"></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://shaiwang.life"></form></div></div></header><div class="post-outer" data-post-title="翻译 | 深入理解JavaScirpt的函数调用和&#34;this&#34;" id="post"><section class="post-toc"><aside class="post-fixed-container"><div class="toc-wrap"><h3 class="toc-title">目录</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%8E%9F%E8%AF%AD"><span class="toc-text">核心原语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-text">简单的函数调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-text">成员函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Function-prototype-bind"><span class="toc-text">使用Function.prototype.bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91jQuery"><span class="toc-text">面向jQuery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PS%EF%BC%9A%E6%88%91%E6%92%92%E8%B0%8E%E7%9A%84%E9%83%A8%E5%88%86"><span class="toc-text">PS：我撒谎的部分</span></a></li></ol></div><div id="post-like" data-token="MTBiZjhlNDE3YjA3Y2VmMWFmZmZhMTAxYzMzNzM3Mjk3MjRjYzViNQ=="><div class="container"><a class="like-icon"></a> <span id="like-count"></span></div></div></aside></section><section class="post-main"><article id="post-javascript-invocation-this" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><p class="article-date"><time class="dt-published" datetime="2018-07-30T16:00:00.000Z" itemprop="datePublished">2018-07-31</time></p><div class="article-category"><a class="article-category-link" href="/categories/%E7%BF%BB%E8%AF%91/">翻译</a></div></div><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">翻译 | 深入理解JavaScirpt的函数调用和&#34;this&#34;</h1></header><div class="e-content article-entry" itemprop="articleBody"><p>过去很多年里，我看到过太多关于JavaScript函数调用的混淆。尤其是，很多人抱怨函数调用中this的语义令人困惑。<br>在我看来，通过理解核心函数调用原语，然后将其他所有调用函数的方法视为在原语之上的语法糖，如此便可澄清很多这类疑惑。事实上，这正是ECMAScript规范对此的看法。在某些方面，这篇文章是规范的简化，但基本思路是一样的。</p><span id="more"></span><h3 id="核心原语"><a href="#核心原语" class="headerlink" title="核心原语"></a>核心原语</h3><p>首先，我们先看一下函数调用的核心原语，Function对象的<code>call</code>方法[1]。调用方法方法相对简单。</p><ol><li>从参数1到末尾创建一个参数列表(<code>argList</code>)</li><li>第一个参数（参数0)是<code>thisValue</code></li><li>通过将<code>this</code>的值设为<code>thisValue</code>和<code>argList</code>作为其参数列表调用函数</li></ol><p>举例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">thing</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span> + <span class="string">&quot; says hello &quot;</span> + thing);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hello.call(<span class="string">&quot;Yehuda&quot;</span>, <span class="string">&quot;world&quot;</span>) <span class="comment">//=&gt; Yehuda says hello world</span></span><br></pre></td></tr></table></figure><p>如你所见，我们通过将<code>this</code>设置为<code>“Yehuda”</code>和单个参数<code>“world”</code>来调用<code>hello</code>方法。这正是JavaScript中函数调用的核心原语。你可以认为所有其他方式的函数调用都可”去糖“得到这个原语。（“去糖”是指采用一种方便的语法并用更基本的核心原语来描述它）。</p><p><em>[1]在ES5规范中，<code>call</code>方法是用另一个更底层的原语来描述的，但它是在那个原语之上的简单封装，所以我在这里简化了一下。有关更多信息，请参阅本文末尾。</em></p><h3 id="简单的函数调用"><a href="#简单的函数调用" class="headerlink" title="简单的函数调用"></a>简单的函数调用</h3><p>显而易见，一直用<code>call</code>调用函数将会非常烦人。JavaScript允许我们直接使用括号语法<code>hello(&quot;world&quot;)</code>来调用函数。当我们这样做时，调用“去糖”如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">thing</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Hello &quot;</span> + thing);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this:</span></span><br><span class="line">hello(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// desugars to:</span></span><br><span class="line">hello.call(<span class="built_in">window</span>, <span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>仅在使用严格模式</strong>[2]的ECMAScript 5中，此行为将改变：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this:</span></span><br><span class="line">hello(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// desugars to:</span></span><br><span class="line">hello.call(<span class="literal">undefined</span>, <span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure><p>简短版本的说法是：<strong>像<code>fn(...args)</code>这样的函数调用和<code>fn.call(window [ES5-strict: undefined], ...args)</code>是一模一样的</strong>。<br>注意，对于行内声明的函数<code>(function() &#123;&#125;)()</code>也是成立的：<code>(function() &#123;&#125;)()</code>和<code>(function() &#123;&#125;).call(window [ES5-strict: undefined)</code>是一模一样的。</p><p><em>[2]事实上，我撒了一点小谎。ECMAScript 5规范说<code>undefined</code>（几乎）总是被传递，但不在严格模式下时被调用函数应该将其<code>thisValue</code>更改为全局对象。这允许严格模式下调用者避免破坏现有的非严格模式库。</em></p><h3 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h3><p>调用方法的下一个非常普遍的方式是作为一个对象的一个成员 (<code>person.hello()</code>)。在这种情况下，调用“去糖”如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Brendan Eich&quot;</span>,</span><br><span class="line">  <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span>(<span class="params">thing</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span> + <span class="string">&quot; says hello &quot;</span> + thing);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this:</span></span><br><span class="line">person.hello(<span class="string">&quot;world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// desugars to this:</span></span><br><span class="line">person.hello.call(person, <span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure><p>注意，<code>hello</code>方法在这种形式下是如何附加到对象上是无关紧要的。请记住，我们之前将<code>hello</code>定义为一个独立函数。接下来我们看看如果动态地将其附加到对象上会发生什么：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">thing</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span> + <span class="string">&quot; says hello &quot;</span> + thing);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person = &#123; <span class="attr">name</span>: <span class="string">&quot;Brendan Eich&quot;</span> &#125;</span><br><span class="line">person.hello = hello;</span><br><span class="line"></span><br><span class="line">person.hello(<span class="string">&quot;world&quot;</span>) <span class="comment">// still desugars to person.hello.call(person, &quot;world&quot;)</span></span><br><span class="line"></span><br><span class="line">hello(<span class="string">&quot;world&quot;</span>) <span class="comment">// &quot;[object DOMWindow]world&quot;</span></span><br></pre></td></tr></table></figure><p>注意，函数对其<code>this</code>值没有一贯的定义，它总是在调用时根据调用者调用的方式进行设置。</p><h3 id="使用Function-prototype-bind"><a href="#使用Function-prototype-bind" class="headerlink" title="使用Function.prototype.bind"></a>使用<code>Function.prototype.bind</code></h3><p>因为引用<code>this</code>值一贯不变的函数有时是很方便的，人们历来使用一个简单的闭包技巧将函数转换为<code>this</code>值一贯不变的对应函数：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Brendan Eich&quot;</span>,</span><br><span class="line">  <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span>(<span class="params">thing</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&quot; says hello &quot;</span> + thing);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boundHello = <span class="function"><span class="keyword">function</span>(<span class="params">thing</span>) </span>&#123; <span class="keyword">return</span> person.hello.call(person, thing); &#125;</span><br><span class="line"></span><br><span class="line">boundHello(<span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure><p>尽管我们的<code>boundHello</code>调用仍然“去糖”为<code>boundHello.call(window, &quot;world&quot;)</code>，但我们改变方向并使用我们的原语<code>call</code>方法将<code>this</code>值更改回我们想要的值。<br>我们做些调整可以把这个技巧变为通用解法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bind = <span class="function"><span class="keyword">function</span>(<span class="params">func, thisValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> func.apply(thisValue, <span class="built_in">arguments</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boundHello = bind(person.hello, person);</span><br><span class="line">boundHello(<span class="string">&quot;world&quot;</span>) <span class="comment">// &quot;Brendan Eich says hello world&quot;</span></span><br></pre></td></tr></table></figure><p>为了理解这一点，您只需要两个额外的知识。首先，<code>arguments</code>是一个类Array对象，它表示传递给函数的所有参数。其次，<code>apply</code>方法的工作原理和<code>call</code>原语除了它采用类Array对象而不是一次列出一个参数之外完全一样。<br>我们的<code>bind</code>方法简单地返回一个新函数。当它被调用时，我们的新函数只是调用传入的原始函数，并将原始值设置为其<code>this</code>值，当然它也传递参数。<br>因为这是一个有点常见的习惯用法，ES5在所有<code>Function</code>对象上引入了一个新方法<code>bind</code>，实现了此行为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> boundHello = person.hello.bind(person);</span><br><span class="line">boundHello(<span class="string">&quot;world&quot;</span>) <span class="comment">// &quot;Brendan Eich says hello world&quot;</span></span><br></pre></td></tr></table></figure><p>当您需要将原始函数作为回调传递时，此方法将非常有用：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Alex Russell&quot;</span>,</span><br><span class="line">  <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&quot; says hello world&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#some-div&quot;</span>).click(person.hello.bind(person));</span><br><span class="line"></span><br><span class="line"><span class="comment">// when the div is clicked, &quot;Alex Russell says hello world&quot; is printed</span></span><br></pre></td></tr></table></figure><p>确实，这有点笨，TC39（负责ECMAScript下一版本的委员会）将继续致力于一个更优雅、向后兼容的解决方案。</p><h3 id="面向jQuery"><a href="#面向jQuery" class="headerlink" title="面向jQuery"></a>面向jQuery</h3><p>由于jQuery中大量使用匿名回调函数，因此它在内部使用<code>call</code>方法将这些回调的<code>this</code>值设置为更有用的值。举个例子，在所有事件处理程序中(如不进行特殊干预)，jQuery不接收<code>window</code>作为其<code>this</code>值，而是通过把设置事件处理程序的元素作为它第一个参数在回调函数上调用<code>call</code>。<br>这非常有用，因为匿名回调函数中的默认<code>this</code>的值并不是特别有用，除了它给初学者对javascript的一种印象，<code>this</code><strong>通常</strong>是一个奇怪的，经常变动至于难以解释的概念。<br>如果你理解了将“含糖”函数调用转换为“已去糖”的<code>func.call(thisValue, ...args)</code>的基本规则，那么你应该能够在并不是那么危险的JavaScript<code>this</code>水域中航行。<br><img src="https://files.shaiwang.life/2018/07/PdIAoj.png"></p><h3 id="PS：我撒谎的部分"><a href="#PS：我撒谎的部分" class="headerlink" title="PS：我撒谎的部分"></a>PS：我撒谎的部分</h3><p>在个别地方，我从规范的确切措辞中略微简化了事实。可能最严重的欺骗是我称呼<code>func.call</code>为原语的说法。实际上，规范有一个<code>func.call</code>和<code>[obj.]func()</code>都使用的原语（内部称为<code>[[Call]]</code>）。<br>然而，还是看一下<code>func.call</code>的定义吧：</p><ol><li>如果<code>IsCallable(func)</code>值为<code>false</code>，则抛出TypeError异常</li><li>让<code>argList</code>为一个空的List</li><li>如果使用多个参数调用此方法，则从arg1开始，从左往右将每个参数追加为<code>argList</code>的最后一个元素</li><li>提供<code>thisArg</code>作为<code>this</code>的值，并将<code>argList</code>作为参数列表，返回调用func的内部方法<code>[[Call]]</code>的结果</li></ol><p>如你所见，此定义本质上是一种很简单的JavaScript语义绑定到原语<code>[[Call]]</code>操作。<br>如果你看一下调用函数的定义，前七个步骤设置<code>thisValue</code>和<code>argList</code>，最后一步是：“提供<code>thisArg</code>作为<code>this</code>的值，并将列表<code>argList</code>作为参数值，返回调用func的内部方法<code>[[Call]]</code>的结果。”<br>一旦确定了<code>argList</code>和<code>thisValue</code>，它基本上是相同的措辞。<br>我在称<code>call</code>是一个原语时作了一些欺骗，但其含义基本上与我在文章开头提出的规范和引用的章节是一样的。<br>还有一些我没有在这里介绍的其他案例（最值得注意的是<code>with</code>）。</p><p><strong><a target="_blank" rel="noopener" href="https://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/">原文地址</a></strong></p></div><footer class="article-footer"><div id="copyright"><p><a href="https://shaiwang.life/2018/07/31/javascript-invocation-this.html">https://shaiwang.life/2018/07/31/javascript-invocation-this.html</a></p><p>本作品采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可</p></div><div id="article-tag"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/this/" rel="tag">this</a></li></ul></div><div class="article-share-links"><a href="https://twitter.com/intent/tweet?text=%E7%BF%BB%E8%AF%91%20%7C%20%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JavaScirpt%E7%9A%84%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%92%8C%22this%22&amp;url=https%3A%2F%2Fshaiwang.life%2F2018%2F07%2F31%2Fjavascript-invocation-this.html" class="article-share-twitter" target="_blank" title="Twitter"></a> <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fshaiwang.life%2F2018%2F07%2F31%2Fjavascript-invocation-this.html" class="article-share-facebook" target="_blank" title="Facebook"></a> ​<a href="http://pinterest.com/pin/create/button/?url=https%3A%2F%2Fshaiwang.life%2F2018%2F07%2F31%2Fjavascript-invocation-this.html" class="article-share-pinterest" target="_blank" title="Pinterest"></a> ​<a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fshaiwang.life%2F2018%2F07%2F31%2Fjavascript-invocation-this.html" class="article-share-linkedin" target="_blank" title="LinkedIn"></a></div></footer></div><nav id="article-nav"><a href="/2018/11/10/practice-qianshan.html" id="article-nav-newer" class="article-nav-link-wrap"><h4 class="article-nav-caption">阅读下一篇</h4><div class="article-nav-title">千山助手，开发之初体验</div></a><a href="/2018/07/10/css-bgposition.html" id="article-nav-older" class="article-nav-link-wrap"><h4 class="article-nav-caption">可能会喜欢</h4><div class="article-nav-title">CSS学习（二）：背景图片如何定位？</div></a></nav></article><div class="gitalk"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js" integrity="sha256-Pmj85ojLaPOWwRtlMJwmezB&#x2F;Qg8BzvJp5eTzvXaYAfA&#x3D;" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt&#x2F;Hn&#x2F;PvYZde1iqfp8U&#x3D;" crossorigin="anonymous"><div id="gitalk-container"></div><script type="text/javascript">let gitalk=new Gitalk({clientID:"2ed7f9c25568fea2ee69",clientSecret:"758d4a3ec0cdddb2cc6d321de02e3f26545edb93",id:window.location.pathname,repo:"DukeLuo.github.io",owner:"DukeLuo",admin:"DukeLuo",distractionFreeMode:!0});gitalk.render("gitalk-container")</script></div></section><section class="post-sidebar"><aside><div class="widget-wrap"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algs4/" rel="tag">Algs4</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Candelas/" rel="tag">Candelas</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/" rel="tag">DOM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github-Actions/" rel="tag">Github Actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hook/" rel="tag">Hook</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K-R/" rel="tag">K&R</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Notes/" rel="tag">Notes</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SICP/" rel="tag">SICP</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scheme/" rel="tag">Scheme</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eslint/" rel="tag">eslint</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/glob/" rel="tag">glob</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html2canvas/" rel="tag">html2canvas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/" rel="tag">jQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsPDF/" rel="tag">jsPDF</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ramda/" rel="tag">ramda</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/" rel="tag">this</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1/" rel="tag">事件对象</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9A%E4%BD%8D/" rel="tag">定位</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E9%A1%B9%E7%9B%AE/" rel="tag">小项目</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%AE%E5%8A%A8/" rel="tag">浮动</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%93%BE%E8%A1%A8/" rel="tag">链表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%99%A4%E8%8D%89%E8%AE%A1%E5%88%92/" rel="tag">除草计划</a><span class="tag-list-count">3</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul><li><a href="/2022/04/04/ramda-debounce-throttle.html">Ramda.js 版本 debounce 和 throttle 函数</a></li><li><a href="/2022/01/16/glob-match-naming-convention.html">Using Glob Patterns to Match Common Naming Conventions</a></li><li><a href="/2022/01/12/eslint-plugin-check-file.html">使用 eslint-plugin-check-file 规范 jest 下测试文件所在的文件夹命名</a></li><li><a href="/2021/11/09/docker-npm-install-error.html">docker 容器内 npm install 报错 npm WARN tar ENOENT: no such file or directory</a></li><li><a href="/2021/10/22/blog-clean-plan-3.html">博客除草计划（三）：Candelas 发布，使用新主题部署博客</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">关于我</h3><div class="widget"><div class="profile"><div class="motto"><p class="source"><span>左传·曹刿论战</span></p><div class="quote">&#10077;</div><p class="content">夫战，勇气也。一鼓作气，再而衰，三而竭。</p><div class="close quote">&#10077;</div></div><div class="basic"><div class="avatar"></div><div class="info"><h2 class="name">DukeLuo</h2><h3 class="location">Wuhan</h3></div></div><div class="links"><a id="github-link" class="profile-link" target="_blank" rel="noopener" href="https://github.com/DukeLuo" title="GitHub"></a> <a id="stackoverflow-link" class="profile-link" target="_blank" rel="noopener" href="https://stackoverflow.com/users/12814009" title="Stack Overflow"></a> <a id="email-link" class="profile-link" href="mailto:dukeluo@outlook.com" title="邮箱"></a> <a id="rss-link" class="profile-link" href="/atom.xml" title="RSS"></a></div></div><div class="holder"><div class="balloon"></div><div class="balloon"></div><div class="balloon"></div></div></div></div></aside></section></div><footer id="footer"><p>Copyright &copy; 2022 晒网</p><p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> • Theme <a href="https://github.com/DukeLuo/hexo-theme-candelas" target="_blank">Candelas</a></p></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/categories" class="mobile-nav-link">Category</a> <a href="/archives" class="mobile-nav-link">Archive</a></nav></div></body></html>